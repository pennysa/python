<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Planora âœ¨{% endblock %}</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Fredoka','Noto Sans TC',sans-serif;
      color: #1e293b;
      overflow-x: hidden;
      transition: background 1.5s ease, color 1s ease;
    }
    #navbar.navbar-day {
      background: rgba(255, 255, 255, 0.75);
      color: #1e293b;
      box-shadow: 0 4px 20px rgba(255, 192, 203, 0.3);
      backdrop-filter: blur(10px);
      transition: background 1s ease, color 0.8s ease;
    }
    #navbar.navbar-night {
      background: rgba(40, 20, 60, 0.6);
      color: #f8fafc;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(10px);
      transition: background 1s ease, color 0.8s ease;
    }
    #navbar a { transition: color 0.4s ease; }
    body.home-day #navbar a:hover { color: #f472b6; }
    body.home-night #navbar a:hover { color: #ffcc88; }
    footer { transition: color 0.5s ease; }
  </style>
</head>

<body class="min-h-screen flex flex-col transition-colors duration-700">
  <!-- ğŸ”¹ å°èˆªåˆ— -->
  <nav id="navbar" class="navbar-day flex justify-between items-center px-8 py-4 sticky top-0 z-50">
    <div class="flex items-center space-x-6 font-semibold text-lg">
      <a href="{% url 'home' %}" class="hover:text-pink-500 transition">ğŸ  Home</a>
      <a href="{% url 'personal_calendar' %}" class="hover:text-blue-500 transition">ğŸª„ Personal</a>
    </div>

    <!-- ğŸ” ç™»å…¥ï¼ç™»å‡º -->
    {% if user.is_authenticated %}
      <div class="flex items-center space-x-3">
        <span class="text-gray-700 dark:text-gray-200 font-medium">
          ğŸ‘‹ {{ user.username }}
        </span>
        <a href="{% url 'account_logout' %}"
           class="px-3 py-1 rounded-lg bg-gray-400/80 text-white font-semibold hover:bg-gray-500 transition">
          ğŸšª ç™»å‡º
        </a>
      </div>
    {% else %}
      <a href="{% url 'account_login' %}"
         class="px-3 py-1 rounded-lg bg-pink-400/90 text-white font-semibold hover:scale-105 transition">
         ğŸ” ç™»å…¥
      </a>
    {% endif %}
  </nav>  <!-- âœ… åƒè¬åˆ¥å¿˜é€™ä¸€è¡Œï¼é—œæ‰å°èˆªåˆ— -->

  <!-- ğŸ”¸ ä¸»å…§å®¹ -->
  <main class="flex-1 px-6 md:px-12 py-10">
    {% block content %}{% endblock %}
  </main>

  <!-- ğŸ”¹ é å°¾ -->
  <footer class="text-center py-6 text-sm opacity-70">
    Â© 2025 Planora â€” Dream, Plan, Create âœ¨
  </footer>

  <!-- âœ¨ å°èˆªåˆ—è‡ªå‹•åˆ‡æ› -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const navbar = document.getElementById("navbar");
      const observer = new MutationObserver(() => {
        if (document.body.classList.contains("home-night")) {
          navbar.classList.remove("navbar-day");
          navbar.classList.add("navbar-night");
        } else {
          navbar.classList.remove("navbar-night");
          navbar.classList.add("navbar-day");
        }
      });
      observer.observe(document.body, { attributes: true, attributeFilter: ["class"] });
    });
  </script>
</body>
</html>


