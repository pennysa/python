{% extends "core/base.html" %}
{% load static %}

{% block title %}Home | Planora{% endblock %}

{% block content %}
<div class="relative flex flex-col items-center justify-center min-h-screen text-center overflow-hidden">

  <!-- â˜ï¸ ç™½å¤©é›²å±¤ -->
  <div class="cloud-layer absolute inset-0"></div>
  <!-- âœ¨ æ˜Ÿç©ºå®¹å™¨ -->
  <div id="stars" class="absolute inset-0"></div>

  <!-- ğŸŒ¤ï¸ ä¸»å…§å®¹ -->
<div class="space-y-8 z-10 relative max-w-2xl py-12 md:py-20">
  <h1 class="text-5xl md:text-7xl font-extrabold leading-tight">
    Welcome to <span>Planora</span>
  </h1>
  <p class="text-lg md:text-xl px-4 md:px-0">ä¸€èµ·è¦åŠƒä½ çš„æ™‚é–“ãƒ»ä»»å‹™èˆ‡å¤¢æƒ³ âœ¨</p>

  <!-- ğŸ“… ä¸»æŒ‰éˆ•å€ -->
  <div class="flex flex-col items-center justify-center gap-6 md:gap-10 mt-10 md:mt-14">
    <a href="{% url 'personal_calendar' %}"
       class="main-btn px-8 md:px-10 py-3 md:py-4 rounded-3xl text-white text-lg md:text-xl font-semibold">
      ğŸª„ Personal Calendar
    </a>

    <!-- ğŸŒ— æ¨¡å¼åˆ‡æ›æŒ‰éˆ•ï¼ˆæ”¹æˆè‡ªç„¶è·Ÿéš¨ä¸»æŒ‰éˆ•ï¼‰ -->
    <button id="homeThemeToggle"
            class="bg-white/85 text-gray-800 rounded-full px-6 py-2 font-semibold shadow-md hover:scale-105 transition">
      ğŸŒ æ—¥é–“æ¨¡å¼
    </button>
  </div>
</div>


<!-- ğŸŒˆ æ¨£å¼èˆ‡å‹•ç•« -->
<style>
  html, body {
    height: auto;
    min-height: 100%;
    scroll-behavior: smooth;
    overflow-y: auto;
  }

  body {
    font-family: 'Fredoka','Noto Sans TC',sans-serif;
    transition: background 1.5s ease, color 1s ease;
  }

  /* â˜€ï¸ æ—¥é–“èƒŒæ™¯ */
  body.home-day {
    background: radial-gradient(circle at 30% 40%, rgba(255, 245, 230, 0.9) 0%, rgba(255, 236, 200, 0.4) 30%, transparent 70%),
                linear-gradient(to bottom, #fff7ed 0%, #ffe0b2 40%, #ffd699 100%);
    background-blend-mode: screen;
    color: #2b2b2b;
    position: relative;
  }

  /* â˜ï¸ é›²å±¤ */
  .cloud-layer {
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at 20% 40%, rgba(255,255,255,0.6) 0%, transparent 60%),
                radial-gradient(circle at 80% 60%, rgba(255,255,255,0.4) 0%, transparent 70%),
                radial-gradient(circle at 50% 80%, rgba(255,245,220,0.6) 0%, transparent 60%);
    filter: blur(70px);
    opacity: 0.7;
    animation: cloudMove 40s linear infinite alternate;
    z-index: 0;
  }

  @keyframes cloudMove {
    0% { transform: translate(-10%, -10%) scale(1); }
    100% { transform: translate(10%, 10%) scale(1.05); }
  }

  /* ğŸŒƒ å¤œé–“èƒŒæ™¯ï¼ˆæ·±è‰²å‹•æ¼«é¢¨ï¼‰ */
  body.home-night {
    background: radial-gradient(circle at 40% 15%, rgba(255,200,120,0.12) 0%, transparent 40%),
                linear-gradient(to bottom, #090712 0%, #130d2f 40%, #2b1661 100%);
    color: #fffaf2;
  }

  /* âœ¨ æ˜Ÿç©º */
  .star {
    position: absolute;
    background: #ffdca8;
    border-radius: 50%;
    box-shadow: 0 0 8px rgba(255,220,160,0.8);
    animation: twinkle 3s infinite ease-in-out alternate;
  }

  @keyframes twinkle {
    from { opacity: 0.3; transform: scale(0.8); }
    to { opacity: 1; transform: scale(1.2); }
  }

  /* æ¨™é¡Œæ¨£å¼ */
  h1 {
    text-shadow: 0 6px 20px rgba(0,0,0,0.2);
    transition: text-shadow 1s ease, color 1s ease;
  }

  body.home-night h1 span {
    color: #ffcc66;
    text-shadow: 0 0 10px rgba(255,200,120,0.9), 0 0 25px rgba(255,180,80,0.6);
  }

  body.home-day h1 span {
    color: #fbb03b;
    text-shadow: 0 0 10px rgba(255,210,120,0.6);
  }

  /* ğŸŒ… ç™½å¤©å‰¯æ¨™èª */
  @keyframes softGlow {
    0% { text-shadow: 0 0 6px rgba(255, 200, 100, 0.3); }
    50% { text-shadow: 0 0 12px rgba(255, 180, 80, 0.6); }
    100% { text-shadow: 0 0 6px rgba(255, 200, 100, 0.3); }
  }

  body.home-day p {
    color: #f9a826;
    font-weight: 500;
    animation: softGlow 4s ease-in-out infinite;
  }

  /* ğŸŒ™ å¤œé–“å‰¯æ¨™èª */
  body.home-night p {
    color: #ffeac2;
    text-shadow: 0 0 12px rgba(255,210,140,0.9);
  }

  /* ğŸ’– ä¸»æŒ‰éˆ•ï¼ˆæ—¥é–“ï¼‰ */
  .main-btn {
    background: linear-gradient(135deg, #ff9a76, #ff5cb8);
    box-shadow: 0 8px 25px rgba(255,140,90,0.45);
    transition: all 0.3s ease;
  }

  .main-btn:hover {
    transform: scale(1.06);
    box-shadow: 0 10px 35px rgba(255,150,110,0.6);
  }

  /* ğŸ’œ ä¸»æŒ‰éˆ•ï¼ˆå¤œé–“ç´«å…‰ç‰ˆï¼‰ */
  body.home-night .main-btn {
    background: linear-gradient(135deg, #a78bfa, #7b68ee);
    box-shadow: 0 8px 25px rgba(150,100,255,0.5);
  }

  body.home-night .main-btn:hover {
    transform: scale(1.06);
    box-shadow: 0 10px 35px rgba(170,130,255,0.7);
  }
</style>

<!-- ğŸŒ™ æ—¥å¤œæ¨¡å¼åˆ‡æ› -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    if (!document.body.classList.contains("home-day") && 
        !document.body.classList.contains("home-night")) {
      document.body.classList.add("home-day");
    }

    const navbar = document.getElementById("navbar");
    if (navbar) {
      navbar.classList.remove("navbar-night");
      navbar.classList.add("navbar-day");
    }
  });

  const toggleBtn = document.getElementById("homeThemeToggle");
  const body = document.body;
  const starContainer = document.getElementById("stars");
  const cloudLayer = document.querySelector(".cloud-layer");

  function createStars(count) {
    for (let i = 0; i < count; i++) {
      const s = document.createElement("div");
      const size = Math.random() * 2 + 1;
      s.className = "star";
      s.style.width = `${size}px`;
      s.style.height = `${size}px`;
      s.style.top = `${Math.random() * 100}%`;
      s.style.left = `${Math.random() * 100}%`;
      s.style.animationDelay = `${Math.random() * 3}s`;
      starContainer.appendChild(s);
    }
  }

  toggleBtn.addEventListener("click", () => {
    const isDay = body.classList.contains("home-day");
    body.classList.toggle("home-day", !isDay);
    body.classList.toggle("home-night", isDay);
    starContainer.innerHTML = "";

    const navbar = document.getElementById("navbar");
    if (isDay) {
      toggleBtn.textContent = "ğŸŒ™ å¤œé–“æ¨¡å¼";
      createStars(150);
      cloudLayer.style.display = "none";
      if (navbar) {
        navbar.classList.remove("navbar-day");
        navbar.classList.add("navbar-night");
      }
    } else {
      toggleBtn.textContent = "ğŸŒ æ—¥é–“æ¨¡å¼";
      cloudLayer.style.display = "block";
      if (navbar) {
        navbar.classList.remove("navbar-night");
        navbar.classList.add("navbar-day");
      }
    }
  });
</script>
{% endblock %}
